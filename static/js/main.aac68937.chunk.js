(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],[,,,function(e,t,a){e.exports=a.p+"static/media/mjolnir.dd8446a3.png"},function(e,t,a){e.exports=a.p+"static/media/error.6617f447.gif"},function(e,t,a){e.exports=a.p+"static/media/vision.76e8b3e1.png"},function(e,t,a){e.exports=a(21)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(2);a(15);var l=()=>n.a.createElement("header",{className:"app__header"},n.a.createElement("h1",{className:"app__title"},n.a.createElement("a",{href:"#"},n.a.createElement("span",null,"Marvel")," information portal")),n.a.createElement("nav",{className:"app__menu"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"#"},"Characters")),"/",n.a.createElement("li",null,n.a.createElement("a",{href:"#"},"Comics")))));var i=class{constructor(){var e=this;this._apiBase="https://marvel-server-zeta.vercel.app/",this._apiKey="apikey=d4eecb0c66dedbfae4eab45d312fc1df",this._baseOffsetChar=0,this.getResource=async e=>{let t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()},this.getAllCharacters=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._baseOffsetChar;const a=await e.getResource(`${e._apiBase}characters?limit=9&offset=${t}&${e._apiKey}`);return a.data.results.map(e._transformCharacter)},this.getCharacter=async e=>{const t=await this.getResource(`${this._apiBase}characters/${e}?${this._apiKey}`);return this._transformCharacter(t.data.results[0])},this._transformCharacter=e=>({id:e.id,name:e.name,descr:e.description?e.description.length>210?e.description.slice(0,210)+"...":e.description:"There is no description for this character",thumbnail:`${e.thumbnail.path}.${e.thumbnail.extension}`,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items})}},c=(a(16),a(3)),m=a.n(c);var o=()=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},n.a.createElement("g",{transform:"translate(80,50)"},n.a.createElement("g",{transform:"rotate(0)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"1"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})))),n.a.createElement("g",{transform:"translate(71.21320343559643,71.21320343559643)"},n.a.createElement("g",{transform:"rotate(45)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.875"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})))),n.a.createElement("g",{transform:"translate(50,80)"},n.a.createElement("g",{transform:"rotate(90)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.75"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})))),n.a.createElement("g",{transform:"translate(28.786796564403577,71.21320343559643)"},n.a.createElement("g",{transform:"rotate(135)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.625"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})))),n.a.createElement("g",{transform:"translate(20,50.00000000000001)"},n.a.createElement("g",{transform:"rotate(180)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.5"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})))),n.a.createElement("g",{transform:"translate(28.78679656440357,28.786796564403577)"},n.a.createElement("g",{transform:"rotate(225)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.375"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})))),n.a.createElement("g",{transform:"translate(49.99999999999999,20)"},n.a.createElement("g",{transform:"rotate(270)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.25"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})))),n.a.createElement("g",{transform:"translate(71.21320343559643,28.78679656440357)"},n.a.createElement("g",{transform:"rotate(315)"},n.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.125"},n.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"}))))),h=a(4),d=a.n(h);var u=()=>n.a.createElement("img",{src:d.a,alt:"error"});class p extends r.Component{constructor(){super(...arguments),this.state={char:{},loading:!0,error:!1},this.marvelService=new i,this.onCharLoaded=e=>{this.setState({char:e,loading:!1})},this.onCharLoading=()=>{this.setState({loading:!0})},this.onError=()=>{this.setState({loading:!1,error:!0})},this.updateChar=()=>{const e=Math.floor(20*Math.random())+1;this.onCharLoading(),this.marvelService.getCharacter(e).then(this.onCharLoaded).catch(this.onError)}}componentDidMount(){this.updateChar()}componentWillUnmount(){clearInterval(this.timerId)}render(){const{char:e,loading:t,error:a}=this.state,r=a?n.a.createElement(u,null):null,s=t?n.a.createElement(o,null):null,l=t||a?null:n.a.createElement(E,{char:e});return n.a.createElement("div",{className:"randomchar"},r,s,l,n.a.createElement("div",{className:"randomchar__static"},n.a.createElement("p",{className:"randomchar__title"},"Random character for today!",n.a.createElement("br",null),"Do you want to get to know him better?"),n.a.createElement("p",{className:"randomchar__title"},"Or choose another one"),n.a.createElement("button",{onClick:this.updateChar,className:"button button__main"},n.a.createElement("div",{className:"inner"},"try it")),n.a.createElement("img",{src:m.a,alt:"mjolnir",className:"randomchar__decoration"})))}}const E=e=>{let{char:t}=e;const{name:a,descr:r,thumbnail:s,homepage:l,wiki:i}=t;return n.a.createElement("div",{className:"randomchar__block"},n.a.createElement("img",{src:s,alt:"Random character",className:"randomchar__img"}),n.a.createElement("div",{className:"randomchar__info"},n.a.createElement("p",{className:"randomchar__name"},a),n.a.createElement("p",{className:"randomchar__descr"},r),n.a.createElement("div",{className:"randomchar__btns"},n.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"button button__main"},n.a.createElement("div",{className:"inner"},"homepage")),n.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"button button__secondary"},n.a.createElement("div",{className:"inner"},"Wiki")))))};var f=p;a(17);class g extends r.Component{constructor(){super(...arguments),this.state={charList:[],loading:!0,error:!1,newItemLoading:!1,offset:0,charEnded:!1},this.marvelService=new i,this.onRequest=e=>{this.onCharListLoading(),this.marvelService.getAllCharacters(e).then(this.onCharListLoaded).catch(this.onError)},this.onCharListLoading=()=>{this.setState({newItemLoading:!0})},this.onCharListLoaded=e=>{let t=!1;e.length<9&&(t=!0),this.setState(a=>{let{offset:r,charList:n}=a;return{charList:[...n,...e],loading:!1,newItemLoading:!1,offset:r+9,charEnded:t}})},this.onError=()=>{this.setState({loading:!1,error:!0})}}componentDidMount(){this._hasMountedOnce||(this._hasMountedOnce=!0,this.onRequest(this.state.offset))}renderItems(e){const{selectedChar:t,onCharSelected:a}=this.props,r=e.map(e=>{const r=e.id===t?"char__item char__item_selected":"char__item";return n.a.createElement("li",{className:r,key:e.id,tabIndex:"0",role:"button",onClick:()=>a(e.id),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),a(e.id))}},n.a.createElement("img",{src:e.thumbnail,alt:e.name}),n.a.createElement("div",{className:"char__name"},e.name))});return n.a.createElement("ul",{className:"char__grid"},r)}render(){const{charList:e,loading:t,error:a,offset:r,newItemLoading:s,charEnded:l}=this.state,i=this.renderItems(e),c=a?n.a.createElement(u,null):null,m=t?n.a.createElement(o,null):null,h=t||a?null:i;return n.a.createElement("div",{className:"char__list"},c,m,h,n.a.createElement("button",{className:"button button__main button__long",disabled:s,style:{display:l?"none":"block"},onClick:()=>this.onRequest(r)},n.a.createElement("div",{className:"inner"},"load more")))}}var _=g;a(18);var v=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"char__select"},"Please select a character to see information"),n.a.createElement("div",{className:"skeleton"},n.a.createElement("div",{className:"pulse skeleton__header"},n.a.createElement("div",{className:"pulse skeleton__circle"}),n.a.createElement("div",{className:"pulse skeleton__mini"})),n.a.createElement("div",{className:"pulse skeleton__block"}),n.a.createElement("div",{className:"pulse skeleton__block"}),n.a.createElement("div",{className:"pulse skeleton__block"})));a(19);class b extends r.Component{constructor(){super(...arguments),this.state={char:null,loading:!1,error:!1},this.marvelService=new i,this.updateChar=()=>{const{charId:e}=this.props;e&&(this.onCharLoading(),this.marvelService.getCharacter(e).then(this.onCharLoaded).catch(this.onError))},this.onCharLoaded=e=>{this.setState({char:e,loading:!1})},this.onCharLoading=()=>{this.setState({loading:!0})},this.onError=()=>{this.setState({loading:!1,error:!0})}}componentDidMount(){this.updateChar()}componentDidUpdate(e){this.props.charId!==e.charId&&this.updateChar()}render(){const{char:e,loading:t,error:a}=this.state,r=e||t||a?null:n.a.createElement(v,null),s=a?n.a.createElement(u,null):null,l=t?n.a.createElement(o,null):null,i=t||a||!e?null:n.a.createElement(y,{char:e});return n.a.createElement("div",{className:"char__info"},r,s,l,i)}}const y=e=>{let{char:t}=e;const{name:a,descr:r,thumbnail:s,homepage:l,wiki:i,comics:c}=t;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"char__basics"},n.a.createElement("img",{src:s,alt:a}),n.a.createElement("div",null,n.a.createElement("div",{className:"char__info-name"},a),n.a.createElement("div",{className:"char__btns"},n.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"button button__main"},n.a.createElement("div",{className:"inner"},"homepage")),n.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"button button__secondary"},n.a.createElement("div",{className:"inner"},"Wiki"))))),n.a.createElement("div",{className:"char__descr"},r),n.a.createElement("div",{className:"char__comics"},"Comics:"),n.a.createElement("ul",{className:"char__comics-list"},c.map((e,t)=>n.a.createElement("li",{key:t,className:"char__comics-item"},e))))};var C=b;class N extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,t){console.log(e,t),this.setState({error:!0})}render(){return this.state.error?n.a.createElement("h2",null,"Something went wrong"):this.props.children}}var k=N,w=a(5),T=a.n(w);class x extends r.Component{constructor(){super(...arguments),this.state={selectedChar:null},this.onCharSelected=e=>{this.setState({selectedChar:e})}}render(){return n.a.createElement("div",{className:"app"},n.a.createElement(l,null),n.a.createElement("main",null,n.a.createElement(k,null,n.a.createElement(f,null)),n.a.createElement("div",{className:"char__content"},n.a.createElement(k,null,n.a.createElement(_,{onCharSelected:this.onCharSelected,selectedChar:this.state.selectedChar})),n.a.createElement(k,null,n.a.createElement(C,{charId:this.state.selectedChar}))),n.a.createElement("img",{className:"bg-decoration",src:T.a,alt:"vision"})))}}var L=x;a(20);(new i).getAllCharacters().then(e=>console.log(e));const S=document.getElementById("root");Object(s.createRoot)(S).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(L,null)))}],[[6,1,2]]]);
//# sourceMappingURL=main.aac68937.chunk.js.map